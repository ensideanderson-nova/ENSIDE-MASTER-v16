<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal do Motorista | Anderson Enside Log√≠stica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="../config.js"></script>
    <script src="../api-integration.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            min-height: 100vh;
        }
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.2);
        }
        .hero-gradient {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
        }
        .btn-primary {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #0a0a0a;
            font-weight: 700;
            transform: translateY(0);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
        }
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #FFD700;
        }
        .feature-card {
            transition: all 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.2);
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body class="text-white">
    <!-- Hero Section -->
    <section class="relative overflow-hidden">
        <div class="hero-gradient absolute inset-0 opacity-50"></div>
        <div class="relative max-w-7xl mx-auto px-4 py-16 md:py-24">
            <div class="text-center mb-12">
                <div class="float-animation inline-block text-8xl mb-6">üöõ</div>
                <h1 class="text-5xl md:text-7xl font-black mb-4">
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600">
                        Anderson Enside
                    </span>
                    <br>
                    <span class="text-white">Log√≠stica</span>
                </h1>
                <div class="inline-block bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-black text-sm px-4 py-1 rounded-full mb-4">
                    ANDERSON ENSIDE LOG√çSTICA
                </div>
                <p class="text-xl md:text-2xl text-gray-300 mb-2 font-semibold">
                    Portal Inteligente de Fretes
                </p>
                <p class="text-lg text-gray-400 max-w-2xl mx-auto">
                    Encontre os melhores fretes para suas rotas com tecnologia de IA e notifica√ß√µes em tempo real
                </p>
            </div>

            <!-- CTAs -->
            <div class="flex flex-col md:flex-row gap-4 justify-center items-center mb-16">
                <button onclick="verificarERedirecionarFretes()" class="px-10 py-5 rounded-xl transition text-xl w-full md:w-auto text-center font-bold" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%); color: white; box-shadow: 0 10px 30px rgba(220, 38, 38, 0.4);">
                    üöÄ Clique e Veja Rotas Dispon√≠veis
                </button>
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
                <div class="glass rounded-xl p-6 text-center">
                    <div class="text-4xl font-black text-yellow-400 mb-2" id="statFretes">0</div>
                    <div class="text-sm text-gray-400">Fretes Ativos</div>
                </div>
                <div class="glass rounded-xl p-6 text-center">
                    <div class="text-4xl font-black text-green-400 mb-2" id="statPropostas">0</div>
                    <div class="text-sm text-gray-400">Propostas</div>
                </div>
                <div class="glass rounded-xl p-6 text-center">
                    <div class="text-4xl font-black text-blue-400 mb-2" id="statMotoristas">0</div>
                    <div class="text-sm text-gray-400">Motoristas</div>
                </div>
                <div class="glass rounded-xl p-6 text-center">
                    <div class="text-4xl font-black text-purple-400 mb-2" id="statRotas">0</div>
                    <div class="text-sm text-gray-400">Rotas</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="max-w-7xl mx-auto px-4 py-16">
        <h2 class="text-4xl font-bold text-center mb-4">
            <span class="text-yellow-400">Por que escolher</span> nosso sistema?
        </h2>
        <p class="text-center text-gray-400 mb-12 text-lg">
            Tecnologia de ponta para otimizar seus fretes
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Feature 1 -->
            <div class="feature-card glass rounded-2xl p-8">
                <div class="text-5xl mb-4">ü§ñ</div>
                <h3 class="text-2xl font-bold mb-3 text-yellow-400">An√°lise com IA</h3>
                <p class="text-gray-400">
                    Sistema inteligente que analisa suas propostas e sugere os melhores valores baseado no mercado
                </p>
            </div>

            <!-- Feature 2 -->
            <div class="feature-card glass rounded-2xl p-8">
                <div class="text-5xl mb-4">üì±</div>
                <h3 class="text-2xl font-bold mb-3 text-yellow-400">Notifica√ß√µes WhatsApp</h3>
                <p class="text-gray-400">
                    Receba notifica√ß√µes instant√¢neas quando surgir um frete na sua rota preferida
                </p>
            </div>

            <!-- Feature 3 -->
            <div class="feature-card glass rounded-2xl p-8">
                <div class="text-5xl mb-4">üó∫Ô∏è</div>
                <h3 class="text-2xl font-bold mb-3 text-yellow-400">Rotas Personalizadas</h3>
                <p class="text-gray-400">
                    Cadastre suas rotas preferidas e receba apenas fretes que interessam para voc√™
                </p>
            </div>

            <!-- Feature 4 -->
            <div class="feature-card glass rounded-2xl p-8">
                <div class="text-5xl mb-4">üí∞</div>
                <h3 class="text-2xl font-bold mb-3 text-yellow-400">Valores Competitivos</h3>
                <p class="text-gray-400">
                    Fa√ßa suas propostas e negocie diretamente com valores justos e transparentes
                </p>
            </div>

            <!-- Feature 5 -->
            <div class="feature-card glass rounded-2xl p-8">
                <div class="text-5xl mb-4">‚ö°</div>
                <h3 class="text-2xl font-bold mb-3 text-yellow-400">Processo √Ågil</h3>
                <p class="text-gray-400">
                    Sistema r√°pido e intuitivo para fazer propostas em poucos cliques
                </p>
            </div>

            <!-- Feature 6 -->
            <div class="feature-card glass rounded-2xl p-8">
                <div class="text-5xl mb-4">üìä</div>
                <h3 class="text-2xl font-bold mb-3 text-yellow-400">Gest√£o Profissional</h3>
                <p class="text-gray-400">
                    Plataforma integrada com Google Sheets para total controle e transpar√™ncia das opera√ß√µes
                </p>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="max-w-7xl mx-auto px-4 py-16">
        <h2 class="text-4xl font-bold text-center mb-4">
            <span class="text-yellow-400">Como funciona?</span>
        </h2>
        <p class="text-center text-gray-400 mb-12 text-lg">
            Simples, r√°pido e eficiente
        </p>

        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="glass rounded-2xl p-6 text-center">
                <div class="text-5xl mb-4">1Ô∏è‚É£</div>
                <h3 class="text-xl font-bold mb-2 text-yellow-400">Cadastre-se</h3>
                <p class="text-gray-400 text-sm">
                    Informe seus dados e configure suas rotas preferidas
                </p>
            </div>

            <div class="glass rounded-2xl p-6 text-center">
                <div class="text-5xl mb-4">2Ô∏è‚É£</div>
                <h3 class="text-xl font-bold mb-2 text-yellow-400">Receba Notifica√ß√µes</h3>
                <p class="text-gray-400 text-sm">
                    Seja avisado via WhatsApp sobre fretes compat√≠veis
                </p>
            </div>

            <div class="glass rounded-2xl p-6 text-center">
                <div class="text-5xl mb-4">3Ô∏è‚É£</div>
                <h3 class="text-xl font-bold mb-2 text-yellow-400">Fa√ßa Propostas</h3>
                <p class="text-gray-400 text-sm">
                    Envie sua proposta com o valor que considera justo
                </p>
            </div>

            <div class="glass rounded-2xl p-6 text-center">
                <div class="text-5xl mb-4">4Ô∏è‚É£</div>
                <h3 class="text-xl font-bold mb-2 text-yellow-400">Feche o Neg√≥cio</h3>
                <p class="text-gray-400 text-sm">
                    Receba aprova√ß√£o e comece a trabalhar
                </p>
            </div>
        </div>
    </section>

    <!-- Quick Links -->
    <section class="max-w-7xl mx-auto px-4 py-16">
        <div class="glass rounded-2xl p-8 md:p-12">
            <h2 class="text-3xl font-bold text-center mb-8">
                <span class="text-yellow-400">Acesso R√°pido</span>
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <a href="fretes_disponiveis.html" class="block glass rounded-xl p-6 hover:bg-white/10 transition text-center">
                    <div class="text-4xl mb-3">üì¶</div>
                    <h3 class="text-xl font-bold mb-2">Fretes Dispon√≠veis</h3>
                    <p class="text-gray-400 text-sm">Veja todos os fretes abertos</p>
                </a>

                <a href="minhas_propostas.html" class="block glass rounded-xl p-6 hover:bg-white/10 transition text-center">
                    <div class="text-4xl mb-3">üìã</div>
                    <h3 class="text-xl font-bold mb-2">Minhas Propostas</h3>
                    <p class="text-gray-400 text-sm">Acompanhe suas propostas</p>
                </a>

                <a href="minhas_rotas_preferidas.html" class="block glass rounded-xl p-6 hover:bg-white/10 transition text-center">
                    <div class="text-4xl mb-3">üó∫Ô∏è</div>
                    <h3 class="text-xl font-bold mb-2">Rotas Preferidas</h3>
                    <p class="text-gray-400 text-sm">Gerencie suas rotas</p>
                </a>
            </div>
        </div>
    </section>

    <!-- CTA Final -->
    <section class="max-w-7xl mx-auto px-4 py-16 mb-16">
        <div class="hero-gradient glass rounded-3xl p-12 text-center">
            <h2 class="text-4xl md:text-5xl font-black mb-4">
                Pronto para come√ßar?
            </h2>
            <p class="text-xl text-gray-300 mb-8">
                Junte-se a dezenas de motoristas que j√° est√£o aproveitando os melhores fretes
            </p>
            <div class="flex flex-col md:flex-row gap-4 justify-center">
                <a href="fretes_disponiveis.html" class="btn-primary px-12 py-5 rounded-xl transition text-xl">
                    üöÄ Ver Fretes Agora
                </a>
                <button onclick="mostrarFormularioCadastro()" class="btn-secondary px-12 py-5 rounded-xl transition text-xl">
                    üìù Cadastrar-se
                </button>
            </div>
        </div>
    </section>

    <!-- Modal de Cadastro -->
    <div id="modalCadastro" class="fixed inset-0 bg-black/80 backdrop-blur-sm hidden items-center justify-center p-4 z-50">
        <div class="glass rounded-2xl p-8 max-w-md w-full">
            <h3 class="text-2xl font-bold mb-6 text-yellow-400">Acesso R√°pido</h3>
            <p class="text-gray-400 mb-6">Informe seus dados para continuar</p>
            
            <form id="formCadastro" class="space-y-4">
                <div>
                    <label class="block text-sm text-gray-400 mb-2">Nome Completo *</label>
                    <input type="text" id="nomeCadastro" required 
                           class="w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white focus:border-yellow-400 focus:outline-none">
                </div>

                <div>
                    <label class="block text-sm text-gray-400 mb-2">WhatsApp (com DDD) *</label>
                    <input type="tel" id="whatsappCadastro" required 
                           placeholder="18996540492"
                           class="w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white focus:border-yellow-400 focus:outline-none">
                </div>

                <div class="flex gap-3 pt-4">
                    <button type="button" onclick="fecharModal()" 
                            class="flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg transition">
                        Cancelar
                    </button>
                    <button type="submit" 
                            class="flex-1 btn-primary px-6 py-3 rounded-lg transition">
                        Continuar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black/30 py-8 mt-16">
        <div class="max-w-7xl mx-auto px-4 text-center text-gray-400">
            <p class="mb-2">¬© 2026 Anderson Enside Log√≠stica - Todos os direitos reservados</p>
            <p class="text-sm">üì± WhatsApp: (18) 99654-0492</p>
        </div>
    </footer>

    <script>
        const config = window.CAPTACAO_FRETES_CONFIG;
        const api = window.CAPTACAO_API;

        // Mostrar modal de cadastro
        function mostrarFormularioCadastro() {
            const modal = document.getElementById('modalCadastro');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Fechar modal
        function fecharModal() {
            const modal = document.getElementById('modalCadastro');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Submit do formul√°rio
        document.getElementById('formCadastro')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nome = document.getElementById('nomeCadastro').value;
            const whatsapp = document.getElementById('whatsappCadastro').value;

            // Salvar no localStorage
            localStorage.setItem('motorista_logado', JSON.stringify({
                nome,
                whatsapp,
                dataCadastro: new Date().toISOString()
            }));

            alert(`‚úÖ Bem-vindo, ${nome}!`);
            fecharModal();
            
            // Redirecionar para fretes dispon√≠veis
            window.location.href = 'fretes_disponiveis.html';
        });

        // Verificar se est√° logado antes de redirecionar
        function verificarERedirecionarFretes() {
            const motorista = localStorage.getItem('motorista_logado');
            
            if (motorista) {
                // J√° est√° logado, vai direto
                window.location.href = 'fretes_disponiveis.html';
            } else {
                // N√£o est√° logado, abre modal
                mostrarFormularioCadastro();
            }
        }

        // Atualizar stats com dados reais do Google Sheets/localStorage
        async function atualizarStats() {
            try {
                // Buscar fretes
                const fretes = api.carregarFretes();
                const fretesAtivos = fretes.filter(f => f.status === 'disponivel' || !f.status);
                document.getElementById('statFretes').textContent = fretesAtivos.length;

                // Buscar propostas
                const propostas = api.carregarPropostas();
                document.getElementById('statPropostas').textContent = propostas.length;

                // Buscar rotas
                const rotas = api.carregarRotasPreferidas();
                document.getElementById('statRotas').textContent = rotas.length;

                // Contar motoristas √∫nicos (baseado em whatsapp nas rotas e propostas)
                const whatsappsUnicos = new Set();
                rotas.forEach(r => r.whatsapp && whatsappsUnicos.add(r.whatsapp));
                propostas.forEach(p => p.whatsapp && whatsappsUnicos.add(p.whatsapp));
                document.getElementById('statMotoristas').textContent = whatsappsUnicos.size;

            } catch (error) {
                console.error('Erro ao carregar stats:', error);
                // Mant√©m 0 se houver erro
            }
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            atualizarStats();
            console.log('‚úÖ Landing page carregada');
        });
    </script>
</body>
</html>
