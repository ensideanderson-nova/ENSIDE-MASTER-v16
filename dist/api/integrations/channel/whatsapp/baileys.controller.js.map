{"version":3,"sources":["../../../../../src/api/integrations/channel/whatsapp/baileys.controller.ts"],"sourcesContent":["import { InstanceDto } from '@api/dto/instance.dto';\nimport { WAMonitoringService } from '@api/services/monitor.service';\n\nexport class BaileysController {\n  constructor(private readonly waMonitor: WAMonitoringService) {}\n\n  public async onWhatsapp({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysOnWhatsapp(body?.jid);\n  }\n\n  public async profilePictureUrl({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysProfilePictureUrl(body?.jid, body?.type, body?.timeoutMs);\n  }\n\n  public async assertSessions({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysAssertSessions(body?.jids, body?.force);\n  }\n\n  public async createParticipantNodes({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysCreateParticipantNodes(body?.jids, body?.message, body?.extraAttrs);\n  }\n\n  public async getUSyncDevices({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysGetUSyncDevices(body?.jids, body?.useCache, body?.ignoreZeroDevices);\n  }\n\n  public async generateMessageTag({ instanceName }: InstanceDto) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysGenerateMessageTag();\n  }\n\n  public async sendNode({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysSendNode(body?.stanza);\n  }\n\n  public async signalRepositoryDecryptMessage({ instanceName }: InstanceDto, body: any) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysSignalRepositoryDecryptMessage(body?.jid, body?.type, body?.ciphertext);\n  }\n\n  public async getAuthState({ instanceName }: InstanceDto) {\n    const instance = this.waMonitor.waInstances[instanceName];\n\n    return instance.baileysGetAuthState();\n  }\n}\n"],"mappings":"ulBAGA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,uBAAAE,IAAA,eAAAC,EAAAH,GAAO,IAAMI,EAAN,MAAMA,CAAAA,CACX,YAA6BC,EAAgC,0BAAhCA,UAAAA,CAAiC,CAE9D,MAAaC,WAAW,CAAEC,aAAAA,CAAY,EAAiBC,EAAW,CAGhE,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5BG,kBAAkBF,GAAMG,GAAAA,CAC1C,CAEA,MAAaC,kBAAkB,CAAEL,aAAAA,CAAY,EAAiBC,EAAW,CAGvE,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5BM,yBAAyBL,GAAMG,IAAKH,GAAMM,KAAMN,GAAMO,SAAAA,CACxE,CAEA,MAAaC,eAAe,CAAET,aAAAA,CAAY,EAAiBC,EAAW,CAGpE,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5BU,sBAAsBT,GAAMU,KAAMV,GAAMW,KAAAA,CAC1D,CAEA,MAAaC,uBAAuB,CAAEb,aAAAA,CAAY,EAAiBC,EAAW,CAG5E,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5Bc,8BAA8Bb,GAAMU,KAAMV,GAAMc,QAASd,GAAMe,UAAAA,CACjF,CAEA,MAAaC,gBAAgB,CAAEjB,aAAAA,CAAY,EAAiBC,EAAW,CAGrE,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5BkB,uBAAuBjB,GAAMU,KAAMV,GAAMkB,SAAUlB,GAAMmB,iBAAAA,CAC3E,CAEA,MAAaC,mBAAmB,CAAErB,aAAAA,CAAY,EAAiB,CAG7D,OAFiB,KAAKF,UAAUI,YAAYF,CAAAA,EAE5BsB,0BAAyB,CAC3C,CAEA,MAAaC,SAAS,CAAEvB,aAAAA,CAAY,EAAiBC,EAAW,CAG9D,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5BwB,gBAAgBvB,GAAMwB,MAAAA,CACxC,CAEA,MAAaC,+BAA+B,CAAE1B,aAAAA,CAAY,EAAiBC,EAAW,CAGpF,OAFiB,KAAKH,UAAUI,YAAYF,CAAAA,EAE5B2B,sCAAsC1B,GAAMG,IAAKH,GAAMM,KAAMN,GAAM2B,UAAAA,CACrF,CAEA,MAAaC,aAAa,CAAE7B,aAAAA,CAAY,EAAiB,CAGvD,OAFiB,KAAKF,UAAUI,YAAYF,CAAAA,EAE5B8B,oBAAmB,CACrC,CACF,EAxDajC,EAAAA,EAAAA,qBAAN,IAAMA,EAANkC","names":["baileys_controller_exports","__export","BaileysController","__toCommonJS","BaileysController","waMonitor","onWhatsapp","instanceName","body","waInstances","baileysOnWhatsapp","jid","profilePictureUrl","baileysProfilePictureUrl","type","timeoutMs","assertSessions","baileysAssertSessions","jids","force","createParticipantNodes","baileysCreateParticipantNodes","message","extraAttrs","getUSyncDevices","baileysGetUSyncDevices","useCache","ignoreZeroDevices","generateMessageTag","baileysGenerateMessageTag","sendNode","baileysSendNode","stanza","signalRepositoryDecryptMessage","baileysSignalRepositoryDecryptMessage","ciphertext","getAuthState","baileysGetAuthState","_BaileysController"]}