{"version":3,"sources":["../../../../../../src/api/integrations/chatbot/chatwoot/validate/chatwoot.schema.ts"],"sourcesContent":["import { JSONSchema7 } from 'json-schema';\nimport { v4 } from 'uuid';\n\nconst isNotEmpty = (...propertyNames: string[]): JSONSchema7 => {\n  const properties = {};\n  propertyNames.forEach(\n    (property) =>\n      (properties[property] = {\n        minLength: 1,\n        description: `The \"${property}\" cannot be empty`,\n      }),\n  );\n  return {\n    if: {\n      propertyNames: {\n        enum: [...propertyNames],\n      },\n    },\n    then: { properties },\n  };\n};\n\nexport const chatwootSchema: JSONSchema7 = {\n  $id: v4(),\n  type: 'object',\n  properties: {\n    enabled: { type: 'boolean', enum: [true, false] },\n    accountId: { type: 'string' },\n    token: { type: 'string' },\n    url: { type: 'string' },\n    signMsg: { type: 'boolean', enum: [true, false] },\n    signDelimiter: { type: ['string', 'null'] },\n    nameInbox: { type: ['string', 'null'] },\n    reopenConversation: { type: 'boolean', enum: [true, false] },\n    conversationPending: { type: 'boolean', enum: [true, false] },\n    autoCreate: { type: 'boolean', enum: [true, false] },\n    importContacts: { type: 'boolean', enum: [true, false] },\n    mergeBrazilContacts: { type: 'boolean', enum: [true, false] },\n    importMessages: { type: 'boolean', enum: [true, false] },\n    daysLimitImportMessages: { type: 'number' },\n    ignoreJids: { type: 'array', items: { type: 'string' } },\n  },\n  required: ['enabled', 'accountId', 'token', 'url', 'signMsg', 'reopenConversation', 'conversationPending'],\n  ...isNotEmpty('enabled', 'accountId', 'token', 'url', 'signMsg', 'reopenConversation', 'conversationPending'),\n};\n"],"mappings":"+EACA,OAASA,MAAAA,MAAU,OAEnB,IAAMC,EAAaC,EAAA,IAAIC,IAAAA,CACrB,IAAMC,EAAa,CAAC,EACpBD,OAAAA,EAAcE,QACXC,GACEF,EAAWE,CAAAA,EAAY,CACtBC,UAAW,EACXC,YAAa,QAAQF,CAAAA,mBACvB,CAAA,EAEG,CACLG,GAAI,CACFN,cAAe,CACbO,KAAM,IAAIP,EACZ,CACF,EACAQ,KAAM,CAAEP,WAAAA,CAAW,CACrB,CACF,EAjBmB,cAmBNQ,EAA8B,CACzCC,IAAKC,EAAAA,EACLC,KAAM,SACNX,WAAY,CACVY,QAAS,CAAED,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EAChDO,UAAW,CAAEF,KAAM,QAAS,EAC5BG,MAAO,CAAEH,KAAM,QAAS,EACxBI,IAAK,CAAEJ,KAAM,QAAS,EACtBK,QAAS,CAAEL,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EAChDW,cAAe,CAAEN,KAAM,CAAC,SAAU,OAAQ,EAC1CO,UAAW,CAAEP,KAAM,CAAC,SAAU,OAAQ,EACtCQ,mBAAoB,CAAER,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EAC3Dc,oBAAqB,CAAET,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EAC5De,WAAY,CAAEV,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EACnDgB,eAAgB,CAAEX,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EACvDiB,oBAAqB,CAAEZ,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EAC5DkB,eAAgB,CAAEb,KAAM,UAAWL,KAAM,CAAC,GAAM,GAAO,EACvDmB,wBAAyB,CAAEd,KAAM,QAAS,EAC1Ce,WAAY,CAAEf,KAAM,QAASgB,MAAO,CAAEhB,KAAM,QAAS,CAAE,CACzD,EACAiB,SAAU,CAAC,UAAW,YAAa,QAAS,MAAO,UAAW,qBAAsB,uBACpF,GAAG/B,EAAW,UAAW,YAAa,QAAS,MAAO,UAAW,qBAAsB,qBAAA,CACzF","names":["v4","isNotEmpty","__name","propertyNames","properties","forEach","property","minLength","description","if","enum","then","chatwootSchema","$id","v4","type","enabled","accountId","token","url","signMsg","signDelimiter","nameInbox","reopenConversation","conversationPending","autoCreate","importContacts","mergeBrazilContacts","importMessages","daysLimitImportMessages","ignoreJids","items","required"]}