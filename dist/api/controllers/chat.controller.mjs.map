{"version":3,"sources":["../../../src/api/controllers/chat.controller.ts"],"sourcesContent":["import {\n  ArchiveChatDto,\n  BlockUserDto,\n  DeleteMessage,\n  getBase64FromMediaMessageDto,\n  MarkChatUnreadDto,\n  NumberDto,\n  PrivacySettingDto,\n  ProfileNameDto,\n  ProfilePictureDto,\n  ProfileStatusDto,\n  ReadMessageDto,\n  SendPresenceDto,\n  UpdateMessageDto,\n  WhatsAppNumberDto,\n} from '@api/dto/chat.dto';\nimport { InstanceDto } from '@api/dto/instance.dto';\nimport { Query } from '@api/repository/repository.service';\nimport { WAMonitoringService } from '@api/services/monitor.service';\nimport { Contact, Message, MessageUpdate } from '@prisma/client';\n\nexport class ChatController {\n  constructor(private readonly waMonitor: WAMonitoringService) {}\n\n  public async whatsappNumber({ instanceName }: InstanceDto, data: WhatsAppNumberDto) {\n    return await this.waMonitor.waInstances[instanceName].whatsappNumber(data);\n  }\n\n  public async readMessage({ instanceName }: InstanceDto, data: ReadMessageDto) {\n    return await this.waMonitor.waInstances[instanceName].markMessageAsRead(data);\n  }\n\n  public async archiveChat({ instanceName }: InstanceDto, data: ArchiveChatDto) {\n    return await this.waMonitor.waInstances[instanceName].archiveChat(data);\n  }\n\n  public async markChatUnread({ instanceName }: InstanceDto, data: MarkChatUnreadDto) {\n    return await this.waMonitor.waInstances[instanceName].markChatUnread(data);\n  }\n\n  public async deleteMessage({ instanceName }: InstanceDto, data: DeleteMessage) {\n    return await this.waMonitor.waInstances[instanceName].deleteMessage(data);\n  }\n\n  public async fetchProfilePicture({ instanceName }: InstanceDto, data: NumberDto) {\n    return await this.waMonitor.waInstances[instanceName].profilePicture(data.number);\n  }\n\n  public async fetchProfile({ instanceName }: InstanceDto, data: NumberDto) {\n    return await this.waMonitor.waInstances[instanceName].fetchProfile(instanceName, data.number);\n  }\n\n  public async fetchContacts({ instanceName }: InstanceDto, query: Query<Contact>) {\n    return await this.waMonitor.waInstances[instanceName].fetchContacts(query);\n  }\n\n  public async getBase64FromMediaMessage({ instanceName }: InstanceDto, data: getBase64FromMediaMessageDto) {\n    return await this.waMonitor.waInstances[instanceName].getBase64FromMediaMessage(data);\n  }\n\n  public async fetchMessages({ instanceName }: InstanceDto, query: Query<Message>) {\n    return await this.waMonitor.waInstances[instanceName].fetchMessages(query);\n  }\n\n  public async fetchStatusMessage({ instanceName }: InstanceDto, query: Query<MessageUpdate>) {\n    return await this.waMonitor.waInstances[instanceName].fetchStatusMessage(query);\n  }\n\n  public async fetchChats({ instanceName }: InstanceDto, query: Query<Contact>) {\n    return await this.waMonitor.waInstances[instanceName].fetchChats(query);\n  }\n\n  public async findChatByRemoteJid({ instanceName }: InstanceDto, remoteJid: string) {\n    return await this.waMonitor.waInstances[instanceName].findChatByRemoteJid(remoteJid);\n  }\n\n  public async sendPresence({ instanceName }: InstanceDto, data: SendPresenceDto) {\n    return await this.waMonitor.waInstances[instanceName].sendPresence(data);\n  }\n\n  public async fetchPrivacySettings({ instanceName }: InstanceDto) {\n    return await this.waMonitor.waInstances[instanceName].fetchPrivacySettings();\n  }\n\n  public async updatePrivacySettings({ instanceName }: InstanceDto, data: PrivacySettingDto) {\n    return await this.waMonitor.waInstances[instanceName].updatePrivacySettings(data);\n  }\n\n  public async fetchBusinessProfile({ instanceName }: InstanceDto, data: ProfilePictureDto) {\n    return await this.waMonitor.waInstances[instanceName].fetchBusinessProfile(data.number);\n  }\n\n  public async updateProfileName({ instanceName }: InstanceDto, data: ProfileNameDto) {\n    return await this.waMonitor.waInstances[instanceName].updateProfileName(data.name);\n  }\n\n  public async updateProfileStatus({ instanceName }: InstanceDto, data: ProfileStatusDto) {\n    return await this.waMonitor.waInstances[instanceName].updateProfileStatus(data.status);\n  }\n\n  public async updateProfilePicture({ instanceName }: InstanceDto, data: ProfilePictureDto) {\n    return await this.waMonitor.waInstances[instanceName].updateProfilePicture(data.picture);\n  }\n\n  public async removeProfilePicture({ instanceName }: InstanceDto) {\n    return await this.waMonitor.waInstances[instanceName].removeProfilePicture();\n  }\n\n  public async updateMessage({ instanceName }: InstanceDto, data: UpdateMessageDto) {\n    return await this.waMonitor.waInstances[instanceName].updateMessage(data);\n  }\n\n  public async blockUser({ instanceName }: InstanceDto, data: BlockUserDto) {\n    return await this.waMonitor.waInstances[instanceName].blockUser(data);\n  }\n}\n"],"mappings":"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","names":["ChatController","waMonitor","whatsappNumber","instanceName","data","waInstances","readMessage","markMessageAsRead","archiveChat","markChatUnread","deleteMessage","fetchProfilePicture","profilePicture","number","fetchProfile","fetchContacts","query","getBase64FromMediaMessage","fetchMessages","fetchStatusMessage","fetchChats","findChatByRemoteJid","remoteJid","sendPresence","fetchPrivacySettings","updatePrivacySettings","fetchBusinessProfile","updateProfileName","name","updateProfileStatus","status","updateProfilePicture","picture","removeProfilePicture","updateMessage","blockUser","_ChatController"]}