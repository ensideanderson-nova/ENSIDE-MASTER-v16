{"version":3,"sources":["../../src/validate/label.schema.ts"],"sourcesContent":["import { JSONSchema7, JSONSchema7Definition } from 'json-schema';\nimport { v4 } from 'uuid';\n\nconst isNotEmpty = (...propertyNames: string[]): JSONSchema7 => {\n  const properties = {};\n  propertyNames.forEach(\n    (property) =>\n      (properties[property] = {\n        minLength: 1,\n        description: `The \"${property}\" cannot be empty`,\n      }),\n  );\n  return {\n    if: {\n      propertyNames: {\n        enum: [...propertyNames],\n      },\n    },\n    then: { properties },\n  };\n};\n\nconst numberDefinition: JSONSchema7Definition = {\n  type: 'string',\n  description: 'Invalid format',\n};\n\nexport const handleLabelSchema: JSONSchema7 = {\n  $id: v4(),\n  type: 'object',\n  properties: {\n    number: { ...numberDefinition },\n    labelId: { type: 'string' },\n    action: { type: 'string', enum: ['add', 'remove'] },\n  },\n  required: ['number', 'labelId', 'action'],\n  ...isNotEmpty('number', 'labelId', 'action'),\n};\n"],"mappings":"+EACA,OAASA,MAAAA,MAAU,OAEnB,IAAMC,EAAaC,EAAA,IAAIC,IAAAA,CACrB,IAAMC,EAAa,CAAC,EACpBD,OAAAA,EAAcE,QACXC,GACEF,EAAWE,CAAAA,EAAY,CACtBC,UAAW,EACXC,YAAa,QAAQF,CAAAA,mBACvB,CAAA,EAEG,CACLG,GAAI,CACFN,cAAe,CACbO,KAAM,IAAIP,EACZ,CACF,EACAQ,KAAM,CAAEP,WAAAA,CAAW,CACrB,CACF,EAjBmB,cAmBbQ,EAA0C,CAC9CC,KAAM,SACNL,YAAa,gBACf,EAEaM,EAAiC,CAC5CC,IAAKC,EAAAA,EACLH,KAAM,SACNT,WAAY,CACVa,OAAQ,CAAE,GAAGL,CAAiB,EAC9BM,QAAS,CAAEL,KAAM,QAAS,EAC1BM,OAAQ,CAAEN,KAAM,SAAUH,KAAM,CAAC,MAAO,SAAU,CACpD,EACAU,SAAU,CAAC,SAAU,UAAW,UAChC,GAAGnB,EAAW,SAAU,UAAW,QAAA,CACrC","names":["v4","isNotEmpty","__name","propertyNames","properties","forEach","property","minLength","description","if","enum","then","numberDefinition","type","handleLabelSchema","$id","v4","number","labelId","action","required"]}