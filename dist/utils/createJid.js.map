{"version":3,"sources":["../../src/utils/createJid.ts"],"sourcesContent":["// Check if the number is MX or AR\nfunction formatMXOrARNumber(jid: string): string {\n  const countryCode = jid.substring(0, 2);\n\n  if (Number(countryCode) === 52 || Number(countryCode) === 54) {\n    if (jid.length === 13) {\n      const number = countryCode + jid.substring(3);\n      return number;\n    }\n\n    return jid;\n  }\n  return jid;\n}\n\n// Check if the number is br\nfunction formatBRNumber(jid: string) {\n  const regexp = new RegExp(/^(\\d{2})(\\d{2})\\d{1}(\\d{8})$/);\n  if (regexp.test(jid)) {\n    const match = regexp.exec(jid);\n    if (match && match[1] === '55') {\n      const joker = Number.parseInt(match[3][0]);\n      const ddd = Number.parseInt(match[2]);\n      if (joker < 7 || ddd < 31) {\n        return match[0];\n      }\n      return match[1] + match[2] + match[3];\n    }\n    return jid;\n  } else {\n    return jid;\n  }\n}\n\nexport function createJid(number: string): string {\n  number = number.replace(/:\\d+/, '');\n\n  if (number.includes('@g.us') || number.includes('@s.whatsapp.net') || number.includes('@lid')) {\n    return number;\n  }\n\n  if (number.includes('@broadcast')) {\n    return number;\n  }\n\n  number = number\n    ?.replace(/\\s/g, '')\n    .replace(/\\+/g, '')\n    .replace(/\\(/g, '')\n    .replace(/\\)/g, '')\n    .split(':')[0]\n    .split('@')[0];\n\n  if (number.includes('-') && number.length >= 24) {\n    number = number.replace(/[^\\d-]/g, '');\n    return `${number}@g.us`;\n  }\n\n  number = number.replace(/\\D/g, '');\n\n  if (number.length >= 18) {\n    number = number.replace(/[^\\d-]/g, '');\n    return `${number}@g.us`;\n  }\n\n  number = formatMXOrARNumber(number);\n\n  number = formatBRNumber(number);\n\n  return `${number}@s.whatsapp.net`;\n}\n"],"mappings":"+cAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,eAAAE,IAAA,eAAAC,EAAAH,GACA,SAASI,EAAmBC,EAAW,CACrC,IAAMC,EAAcD,EAAIE,UAAU,EAAG,CAAA,EAErC,OAAIC,OAAOF,CAAAA,IAAiB,IAAME,OAAOF,CAAAA,IAAiB,KACpDD,EAAII,SAAW,GACFH,EAAcD,EAAIE,UAAU,CAAA,EAMxCF,CACT,CAZSD,EAAAA,EAAAA,sBAeT,SAASM,EAAeL,EAAW,CACjC,IAAMM,EAAS,IAAIC,OAAO,8BAAA,EAC1B,GAAID,EAAOE,KAAKR,CAAAA,EAAM,CACpB,IAAMS,EAAQH,EAAOI,KAAKV,CAAAA,EAC1B,GAAIS,GAASA,EAAM,CAAA,IAAO,KAAM,CAC9B,IAAME,EAAQR,OAAOS,SAASH,EAAM,CAAA,EAAG,CAAA,CAAE,EACnCI,EAAMV,OAAOS,SAASH,EAAM,CAAA,CAAE,EACpC,OAAIE,EAAQ,GAAKE,EAAM,GACdJ,EAAM,CAAA,EAERA,EAAM,CAAA,EAAKA,EAAM,CAAA,EAAKA,EAAM,CAAA,CACrC,CACA,OAAOT,CACT,KACE,QAAOA,CAEX,CAhBSK,EAAAA,EAAAA,kBAkBF,SAASS,EAAUC,EAAc,CAOtC,OANAA,EAASA,EAAOC,QAAQ,OAAQ,EAAA,EAE5BD,EAAOE,SAAS,OAAA,GAAYF,EAAOE,SAAS,iBAAA,GAAsBF,EAAOE,SAAS,MAAA,GAIlFF,EAAOE,SAAS,YAAA,EACXF,GAGTA,EAASA,GACLC,QAAQ,MAAO,EAAA,EAChBA,QAAQ,MAAO,EAAA,EACfA,QAAQ,MAAO,EAAA,EACfA,QAAQ,MAAO,EAAA,EACfE,MAAM,GAAA,EAAK,CAAA,EACXA,MAAM,GAAA,EAAK,CAAA,EAEVH,EAAOE,SAAS,GAAA,GAAQF,EAAOX,QAAU,IAC3CW,EAASA,EAAOC,QAAQ,UAAW,EAAA,EAC5B,GAAGD,CAAAA,UAGZA,EAASA,EAAOC,QAAQ,MAAO,EAAA,EAE3BD,EAAOX,QAAU,IACnBW,EAASA,EAAOC,QAAQ,UAAW,EAAA,EAC5B,GAAGD,CAAAA,UAGZA,EAAShB,EAAmBgB,CAAAA,EAE5BA,EAASV,EAAeU,CAAAA,EAEjB,GAAGA,CAAAA,oBACZ,CApCgBD,EAAAA,EAAAA","names":["createJid_exports","__export","createJid","__toCommonJS","formatMXOrARNumber","jid","countryCode","substring","Number","length","formatBRNumber","regexp","RegExp","test","match","exec","joker","parseInt","ddd","createJid","number","replace","includes","split"]}